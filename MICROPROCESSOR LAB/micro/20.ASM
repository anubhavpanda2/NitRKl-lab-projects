TITLE    CRC16
PAGE     50,100
DATAOFF=100H
CRCOFF=	200H
ASSUME  CS:CODE_S,SS:STACK_S
STACK_S	SEGMENT	'STACK'
DB	64	DUP(?)
STACK_S	ENDS
CODE_S	SEGMENT	'CODE'
MAIN	PROC	FAR
	PUSH DS
	MOV AX,0
	PUSH AX
	MOV SI,DATAOFF
	MOV BX,[SI]
	MOV AX,[SI+2]
	MOV CX,0H
	MOV si,20H
	MOV DX,8005H
LOP:	ROL AX,1
	ROR AX,1
	RCL CX,1
	RCL BX,1
	RCL AX,1
	JNC NOXOR
	XOR AX,DX
NOXOR:	DEC si
	JNZ LOP
	MOV DI,CRCOFF
	MOV [DI],AX
	RET
MAIN	ENDP
CODE_S	ENDS
END	MAIN		