TITLE    SORT
PAGE     50,100
N=	5
ASSUME  CS:CODE_S,SS:STACK_S,DS:DATA_S
STACK_S	SEGMENT	STACK 'STACK'
DB	64	DUP(?)
STACK_S	ENDS
DATA_S	SEGMENT	'DATA'
TABLE	DD	88123456H,8973C654H,78ABC96DH,992ADA6DH,0EFADEF23H
DATA_S	ENDS
CODE_S	SEGMENT	'CODE'
MAIN 	PROC	FAR
	PUSH DS
	MOV AX,0
	PUSH AX
	MOV AX,SEG TABLE
	MOV DS,AX
	MOV SI,OFFSET TABLE
	MOV CX,N-1
	CALL SORT
	RET
MAIN	ENDP
COMP	PROC
	MOV AX,[SI]
	SUB AX,[SI+BX]
	MOV AX,[SI+2]
	SBB AX,[SI+BX+2]
	RET
COMP	ENDP
SORT	PROC
OLOP:	MOV DX,CX
LOP:	MOV BX,CX
	INC BX
	SUB BX,DX
	ADD BX,BX
	ADD BX,BX
	CALL COMP
	JL DO
	JMP STEP
DO:	PUSH WORD PTR [SI]
	PUSH WORD PTR [SI+2]
	PUSH WORD PTR [SI+BX+2]
	PUSH WORD PTR [SI+BX]
	POP WORD PTR [SI]
	POP WORD PTR [SI+2]
	POP WORD PTR [SI+BX+2]
	POP WORD PTR [SI+BX]
STEP:	DEC DX
	JNZ LOP
	ADD SI,04H
	LOOP OLOP
EN:	RET
SORT	ENDP
CODE_S	ENDS
END	MAIN						